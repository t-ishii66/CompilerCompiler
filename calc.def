START(CALC)
CALC    : EXPR { print("Result: "); call(1); print("\n"); }
;

EXPR    : TERM "+" EXPR     { call(1); print(" + "); call(3); }
        | TERM "-" EXPR     { call(1); print(" - "); call(3); }
        | TERM              { call(1); }
;

TERM    : FACTOR "*" TERM   { call(1); print(" * "); call(3); }
        | FACTOR "/" TERM   { call(1); print(" / "); call(3); }
        | FACTOR            { call(1); }
;

FACTOR  : "(" EXPR ")"      { print("("); call(2); print(")"); }
        | NUMBER            { call(1); }
;

NUMBER  : DIGIT+NUMBER      { call(1); call(2); }
        | DIGIT             { call(1); }
;

DIGIT   : "0" { print("0"); }
        | "1" { print("1"); }
        | "2" { print("2"); }
        | "3" { print("3"); }
        | "4" { print("4"); }
        | "5" { print("5"); }
        | "6" { print("6"); }
        | "7" { print("7"); }
        | "8" { print("8"); }
        | "9" { print("9"); }
;
END
